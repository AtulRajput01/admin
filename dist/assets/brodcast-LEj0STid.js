import{r as i,j as e,C as j}from"./index-D61s1Tjt.js";import{b as u,a as N}from"./index.es-vXd0TMDy.js";import{C as g}from"./CRow-N44qJXZN.js";import{C as m}from"./CCol-B9bgIcnU.js";import{C as b,a as y}from"./CCardBody-BCTVJJ4q.js";import{C as S}from"./CForm-BmHEjoGd.js";import{a as h,C as v}from"./CFormInput-DNacG-Xh.js";import{C as w}from"./CFormTextarea-CZLFhNVW.js";import{C as F}from"./CFormSelect-BRwWCeng.js";const O=()=>{const[C,p]=i.useState([]),[o,n]=i.useState({title:"",body:"",role:""}),[l,d]=i.useState(!1),r=a=>{const{name:t,value:s}=a.target;let c=s;t==="role"&&(c=s==="Users"?"user":"vendor"),n(f=>({...f,[t]:c}))},x=async()=>{d(!0);const a={...o,timestamp:new Date().toLocaleString()};try{const t=await fetch("http://www.taxidermyadmin.hunt30.com/api/admin/sendN",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!t.ok)throw new Error("Failed to send notification");const s=await t.json();p([s,...C]),n({title:"",body:"",role:""})}catch(t){console.error("Error sending notification:",t)}finally{d(!1)}};return e.jsx(u,{className:"mt-4",children:e.jsx(g,{children:e.jsxs(m,{md:"10",children:[e.jsx("h4",{children:"Send Manual Update"}),e.jsx(b,{className:"bg-light text-dark mb-4",children:e.jsx(y,{children:e.jsxs(S,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(h,{htmlFor:"title",children:"Title"}),e.jsx(v,{type:"text",id:"title",name:"title",value:o.title,onChange:r})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(h,{htmlFor:"message",children:"Message"}),e.jsx(w,{id:"message",name:"body",value:o.body,onChange:r})]}),e.jsx("div",{className:"mb-3",children:e.jsx(m,{children:e.jsxs(F,{id:"role",name:"role",value:o.role==="user"?"Users":"Vendors",onChange:r,required:!0,children:[e.jsx("option",{value:"",children:"Select Role"}),e.jsx("option",{value:"Users",children:"Users"}),e.jsx("option",{value:"Vendors",children:"Vendors"})]})})}),e.jsx(N,{color:"primary",onClick:x,disabled:l,children:l?e.jsx(j,{size:"sm"}):"Send Notification"})]})})})]})})})};export{O as default};
