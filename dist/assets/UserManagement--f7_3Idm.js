import{r as c,R as w,c as S,P as n,_ as M,b as j,d as U,j as e}from"./index-D61s1Tjt.js";import{a as N}from"./axios-B4uVmeYG.js";import{F as T}from"./index.es-DIYg4jCt.js";import{f as k,a as L}from"./index-BRDdHwgV.js";import{C as B,F as G}from"./index-DwmSXefy.js";import{C as H,a as I}from"./CCardBody-BCTVJJ4q.js";import{C as D}from"./CCardHeader-D9bYJMT6.js";import{C as P}from"./CForm-BmHEjoGd.js";import{C as _}from"./CFormInput-DNacG-Xh.js";import{C as O,a as V,b as A,c as u,d as Y,e as y}from"./CTable-B6fphQoh.js";import{C as $,a as b}from"./index.es-vXd0TMDy.js";import{C as q,a as J}from"./CModalHeader-CKcM1eys.js";import{C as K}from"./CModalTitle-DFgpSJeL.js";import{C as Q}from"./CModalBody--9TayEQU.js";import{C as W}from"./CModalFooter-Co--6Y0L.js";import"./DefaultLayout-CU_RidXn.js";import"./cil-lock-locked-DmxpJbVL.js";import"./tlogo1-w0QlOMSf.js";import"./cil-user-Ddrdy7PS.js";var v=c.forwardRef(function(s,d){var r,x=s.children,i=s.as,m=i===void 0?"ul":i,t=s.className,h=s.flush,l=s.layout;return w.createElement(m,{className:S("list-group",(r={"list-group-flush":h},r["list-group-".concat(l)]=l,r),t),ref:d},x)});v.propTypes={as:n.elementType,children:n.node,className:n.string,flush:n.bool,layout:n.oneOf(["horizontal","horizontal-sm","horizontal-md","horizontal-lg","horizontal-xl","horizontal-xxl"])};v.displayName="CListGroup";var g=c.forwardRef(function(s,d){var r,x=s.children,i=s.active,m=s.as,t=m===void 0?"li":m,h=s.className,l=s.disabled,C=s.color,p=M(s,["children","active","as","className","disabled","color"]),f=t==="a"||t==="button"?$:t;return p=j(j(j(j({},(t==="a"||t==="button")&&{active:i,disabled:l,as:t,ref:d}),i&&{"aria-current":!0}),l&&{"aria-disabled":!0}),p),w.createElement(f,j({className:S("list-group-item",(r={},r["list-group-item-".concat(C)]=C,r["list-group-item-action"]=t==="a"||t==="button",r.active=i,r.disabled=l,r),h)},p),x)});g.propTypes={active:n.bool,as:n.elementType,children:n.node,className:n.string,color:U,disabled:n.bool};g.displayName="CListGroupItem";let E;const fe=()=>{const[s,d]=c.useState(!1),[r,x]=c.useState(null),[i,m]=c.useState([]),[t,h]=c.useState(null),[l,C]=c.useState(""),p=c.useRef(l);c.useEffect(()=>{f()},[]);const f=async o=>{try{const a=await N.post("https://www.taxidermyadmin.hunt30.com/api/vendor/getUser",{search:o});m(a.data.data)}catch(a){h("Error fetching users"),console.error("Error fetching users:",a)}},z=async o=>{try{await N.delete(`https://www.taxidermyadmin.hunt30.com/api/vendor/deleteUser/${o}`),m(i.filter(a=>a._id!==o))}catch(a){h("Error deleting user"),console.error("Error deleting user:",a)}},R=o=>{const a=o.target.value;C(a),p.current=a,clearTimeout(E),E=setTimeout(()=>{f(p.current)},2e3)},F=()=>{C(""),f("")};return e.jsxs(e.Fragment,{children:[t&&e.jsx(B,{color:"danger",children:t}),e.jsxs(H,{children:[e.jsxs(D,{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h3",{children:"Manage Users"}),e.jsx(P,{className:"d-flex align-items-center",style:{width:"12rem",marginLeft:"auto"},children:e.jsxs("div",{style:{position:"relative",width:"100%"},children:[e.jsx(_,{type:"text",placeholder:"Search by Name",value:l,onChange:R}),l&&e.jsx("div",{style:{position:"absolute",top:"50%",right:"0.5rem",transform:"translateY(-50%)",cursor:"pointer"},onClick:F,children:e.jsx(G,{size:16})})]})})]}),e.jsx(I,{children:e.jsxs(O,{responsive:!0,striped:!0,hover:!0,bordered:!0,children:[e.jsx(V,{color:"dark",children:e.jsxs(A,{children:[e.jsx(u,{scope:"col",style:{textAlign:"center"},children:"S.No"}),e.jsx(u,{scope:"col",style:{textAlign:"center"},children:"Name"}),e.jsx(u,{scope:"col",style:{textAlign:"center"},children:"Email"}),e.jsx(u,{scope:"col",style:{textAlign:"center"},children:"Contact Number"}),e.jsx(u,{scope:"col",style:{textAlign:"center"},children:"Action"})]})}),e.jsx(Y,{children:i.map((o,a)=>e.jsxs(A,{children:[e.jsx(u,{scope:"row",style:{textAlign:"center"},children:a+1}),e.jsx(y,{style:{textAlign:"center"},children:o.name||"null"}),e.jsx(y,{style:{textAlign:"center"},children:o.email||"null"}),e.jsx(y,{style:{textAlign:"center"},children:o.contactNumber||"null"}),e.jsxs(y,{style:{textAlign:"center"},children:[e.jsx(b,{size:"sm",onClick:()=>{x(o),d(!0)},children:e.jsx(T,{icon:k,style:{color:"grey",cursor:"pointer",marginRight:"5px"}})}),e.jsx(b,{size:"sm",onClick:()=>z(o._id),children:e.jsx(T,{icon:L,style:{color:"#fd2b2b"}})})]})]},o._id))})]})})]}),e.jsxs(q,{visible:s,onClose:()=>d(!1),children:[e.jsx(J,{onClose:()=>d(!1),closeButton:!0,children:e.jsx(K,{children:"User Details"})}),e.jsx(Q,{children:e.jsxs(v,{children:[e.jsxs(g,{children:[e.jsx("strong",{children:"Name: "})," ",r==null?void 0:r.name]}),e.jsxs(g,{children:[e.jsx("strong",{children:"Email: "})," ",r==null?void 0:r.email]}),e.jsxs(g,{children:[e.jsx("strong",{children:"Contact Number: "})," ",r==null?void 0:r.contactNumber]})]})}),e.jsx(W,{children:e.jsx(b,{color:"secondary",onClick:()=>d(!1),children:"Close"})})]})]})};export{fe as default};
