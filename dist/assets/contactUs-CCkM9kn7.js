import{r as c,j as e}from"./index-D61s1Tjt.js";import{a as p}from"./axios-B4uVmeYG.js";import{F as g}from"./index.es-DIYg4jCt.js";import{e as f}from"./index-BRDdHwgV.js";import{C as b}from"./CCardHeader-D9bYJMT6.js";import{C as u,a as A,b as w,d as j}from"./DefaultLayout-CU_RidXn.js";import{C as T,a as E,b as i,c as n,d as N,e as r}from"./CTable-B6fphQoh.js";import"./index.es-vXd0TMDy.js";import"./cil-lock-locked-DmxpJbVL.js";import"./tlogo1-w0QlOMSf.js";import"./cil-user-Ddrdy7PS.js";const z=()=>{const[d,x]=c.useState([]),[l,m]=c.useState(!1);c.useEffect(()=>{y(l)},[l]);const y=async t=>{try{const s=await p.post("http://www.taxidermyadmin.hunt30.com/api/getContact",{read:t});x(s.data.data)}catch(s){console.error("Error fetching messages:",s)}},C=async(t,s)=>{try{await p.put(`http://www.taxidermyadmin.hunt30.com/api/updateContact/${t}`,{read:s}),x(a=>a.map(o=>o._id===t?{...o,read:s}:o))}catch(a){console.error("Error updating read status:",a)}},h=async t=>{m(t)};return e.jsxs("div",{children:[e.jsxs(b,{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h3",{children:"Contact Us"}),e.jsxs(u,{style:{width:"12rem"},children:[e.jsx(A,{color:"secondary",children:l===!1?"Unread":"Read"}),e.jsxs(w,{style:{width:"12rem",textAlign:"center"},children:[e.jsx(j,{onClick:()=>h(!1),children:"Unread"}),e.jsx(j,{onClick:()=>h(!0),children:"Read"})]})]})]}),e.jsx("div",{className:"tables-container",style:{display:"flex",justifyContent:"space-between",marginTop:"20px"},children:e.jsx("div",{className:"table",style:{flex:"1",marginRight:"10px"},children:e.jsxs(T,{className:"table",children:[e.jsx(E,{children:e.jsxs(i,{children:[e.jsx(n,{scope:"col",style:{textAlign:"center"},children:"S.No"}),e.jsx(n,{scope:"col",style:{textAlign:"center"},children:"User Name"}),e.jsx(n,{scope:"col",style:{textAlign:"center"},children:"User Email"}),e.jsx(n,{scope:"col",style:{textAlign:"center"},children:"Message"}),e.jsx(n,{scope:"col",style:{textAlign:"center"},children:"Actions"})]})}),e.jsx(N,{children:d.length===0?e.jsx(i,{children:e.jsx(r,{colSpan:"5",style:{textAlign:"center"},children:"No Data"})}):d.map((t,s)=>e.jsxs(i,{children:[e.jsx(r,{style:{textAlign:"center"},children:s+1}),e.jsx(r,{style:{textAlign:"center"},children:t.name}),e.jsx(r,{style:{textAlign:"center"},children:t.email}),e.jsx(r,{style:{textAlign:"center"},children:t.message}),e.jsx(r,{style:{textAlign:"center"},children:t.read?e.jsx("span",{style:{color:"#28a745"},children:"Read"}):e.jsx("button",{style:{backgroundColor:"transparent",border:"none",cursor:"pointer"},onClick:()=>C(t._id,!0),children:e.jsx(g,{icon:f,style:{color:"#fd2b2b",fontSize:"20px"}})})})]},t._id))})]})})})]})};export{z as default};
